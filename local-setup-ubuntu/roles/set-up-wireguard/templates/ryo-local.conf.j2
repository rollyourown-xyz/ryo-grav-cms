# Generated by rollyourown.xyz scripts
[Interface]
PrivateKey = {% include '/etc/wireguard/ryo/local-privatekey' %}
Address = {{ {{ host_wireguard_address_range }} | replace("0/24", "2/24") }}

[Peer]
PublicKey = {% include '/etc/wireguard/ryo/host-publickey' %}
PresharedKey = {% include '/etc/wireguard/ryo/presharedkey' %}
AllowedIPs = {{ {{ host_wireguard_address_range }} | replace("0/24", "1/32") }},{{ lxd_br0_ip_addr }},{{ [ {{ lxd_dmz_network_part }}, ".0/24"],join('') }},{{ [ {{ lxd_frontend_network_part }}, ".0/24"],join('') }},{{ [ {{ lxd_backend_network_part }}, ".0/24"],join('') }}
Endpoint = {{ host_public_ip }}:{{ host_wireguard_port }}
